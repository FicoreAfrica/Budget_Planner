QUIZ_TRANSLATIONS = {
    'en': {
        # Core UI elements
        'core_first_name': 'First Name',
        'core_first_name_placeholder': 'e.g., Muhammad, Bashir, Umar',
        'core_first_name_title': 'Enter your first name to personalize your quiz results',
        'core_email': 'Email',
        'core_email_placeholder': 'e.g., muhammad@example.com',
        'core_email_title': 'Enter your email to receive quiz results',
        'core_language': 'Language',
        'core_language_en': 'English',
        'core_language_ha': 'Hausa',
        'core_send_email': 'Send Email',
        'core_send_email_title': 'Check to receive an email with your quiz results',
        'core_next': 'Next',
        'core_back': 'Back',
        'core_continue': 'Continue',
        'core_close': 'Close',
        'core_created_at': 'Created At',
        # Quiz-specific
        'An error occurred. Please try again.': 'An error occurred. Please try again.',
        'Kuskure ya faru': 'An error occurred',
        'quiz_step_progress': 'Step {step_num} of {total_steps}',  # Updated to named placeholders
        'Enter Your Personal Information': 'Enter Your Personal Information',
        'quiz_personality_quiz': 'Financial Personality Quiz',
        'quiz_assess_literacy': 'Assess your financial literacy and personality.',
        'quiz_start_personality_quiz': 'Start Personality Quiz',
        'quiz_financial_personality_quiz': 'Financial Personality Quiz',
        'quiz_your_financial_personality_results': 'Your Financial Personality Results',
        'quiz_your_financial_personality_results_subtitle': 'Discover your financial personality and insights',
        'quiz_enter_personal_information': 'Enter Your Personal Information',
        'quiz_step_progress': 'Step {0} of {1}',
        'quiz_questions_part1': 'Questions Part 1',
        'quiz_questions_part2': 'Questions Part 2',
        'quiz_progress': 'Quiz Progress',
        'quiz_form_errors': 'Please correct the errors in the form.',
        'quiz_choose_an_option': 'Choose an option.',
        'quiz_start_quiz': 'Start Quiz',
        'quiz_see_results': 'See Results',
        'quiz_back_to_home': 'Back to Home',
        'quiz_your_personality': 'Your Personality',
        'quiz_score': 'Score',
        'quiz_badges': 'Badges',
        'quiz_no_badges': 'No badges earned yet',
        'quiz_insights': 'Insights',
        'quiz_tips_for_improving_financial_habits': 'Tips for Improving Financial Habits',
        'quiz_retake_quiz': 'Retake Quiz',
        'session_expired': 'Session expired. Please start again.',
        'An error occurred': 'An error occurred. Please try again.',
        # Question labels
        'quiz_track_expenses_label': 'Do you track your expenses regularly?',
        'quiz_save_regularly_label': 'Do you save a portion of your income regularly?',
        'quiz_budget_monthly_label': 'Do you set a monthly budget?',
        'quiz_emergency_fund_label': 'Do you have an emergency fund?',
        'quiz_invest_regularly_label': 'Do you invest your money regularly?',
        'quiz_spend_impulse_label': 'Do you often spend money on impulse?',
        'quiz_financial_goals_label': 'Do you set financial goals?',
        'quiz_review_spending_label': 'Do you review your spending habits regularly?',
        'quiz_multiple_income_label': 'Do you have multiple sources of income?',
        'quiz_retirement_plan_label': 'Do you have a retirement savings plan?',
        # Question tooltips
        'quiz_track_expenses_tooltip': 'Select how often you monitor your spending.',
        'quiz_save_regularly_tooltip': 'Indicate your saving habits.',
        'quiz_budget_monthly_tooltip': 'Do you plan your monthly expenses in advance?',
        'quiz_emergency_fund_tooltip': 'Do you have savings for unexpected expenses?',
        'quiz_invest_regularly_tooltip': 'Do you actively invest in financial markets?',
        'quiz_spend_impulse_tooltip': 'Reflect on unplanned buying decisions.',
        'quiz_financial_goals_tooltip': 'Do you set short or long-term financial objectives?',
        'quiz_review_spending_tooltip': 'Do you analyze your spending patterns?',
        'quiz_multiple_income_tooltip': 'Do you earn from multiple streams?',
        'quiz_retirement_plan_tooltip': 'Do you save for retirement?',
        # Options
        'Yes': 'Yes',
        'No': 'No',
        # Personality types
        'quiz_planner_description': 'You plan your finances meticulously.',
        'quiz_saver_description': 'You prioritize saving consistently.',
        'quiz_balanced_description': 'You maintain a balanced financial approach.',
        'quiz_spender_description': 'You enjoy spending freely.',
        'quiz_avoider_description': 'You avoid financial planning.',
        # Insights
        'quiz_insight_planner_1': 'You have a strong grasp of financial planning.',
        'quiz_insight_saver_1': 'You excel at saving regularly.',
        'quiz_insight_balanced_1': 'You balance saving and spending well.',
        'quiz_insight_spender_1': 'Spending is a strength, but can be controlled.',
        'quiz_insight_avoider_1': 'Planning feels challenging but is learnable.',
        # Tips
        'quiz_tip_planner_1': 'Continue setting long-term goals.',
        'quiz_tip_saver_1': 'Consider investing to grow your savings.',
        'quiz_tip_balanced_1': 'Try a budgeting app to optimize habits.',
        'quiz_tip_spender_1': 'Track expenses to avoid overspending.',
        'quiz_tip_avoider_1': 'Start with a simple monthly budget.',
        # Badges
        'badge_financial_guru': 'Financial Guru',
        'badge_financial_guru_desc': 'Awarded for excellent financial planning.',
        'badge_savings_star': 'Savings Star',
        'badge_savings_star_desc': 'Recognized for consistent saving habits.',
        'badge_first_quiz': 'First Quiz Completed',
        'badge_first_quiz_desc': 'Completed your first financial quiz.',
    },
    'ha': {
        # Core UI elements
        'core_first_name': 'Sunan Farko',
        'core_first_name_placeholder': 'Misali, Muhammad, Bashir, Umar',
        'core_first_name_title': 'Shigar da sunanka na farko don keɓance sakamakon tambayoyinka',
        'core_email': 'Imel',
        'core_email_placeholder': 'Misali, muhammad@example.com',
        'core_email_title': 'Shigar da imel ɗinka don karɓar sakamakon tambayoyinka',
        'core_language': 'Yare',
        'core_language_en': 'Turanci',
        'core_language_ha': 'Hausa',
        'core_send_email': 'Aika Imel',
        'core_send_email_title': 'Zaɓi don karɓar imel tare da sakamakon tambayoyinka',
        'core_next': 'Na Gaba',
        'core_back': 'Koma',
        'core_continue': 'Ci Gaba',
        'core_close': 'Rufe',
        'core_created_at': 'An Ƙirƙira A',
        # Quiz-specific
        'quiz_financial_personality_quiz': 'Tambayoyin Halin Kuɗi',
        'quiz_your_financial_personality_results': 'Sakamakon Halin Kuɗin Ka',
        'quiz_your_financial_personality_results_subtitle': 'Gano halin kuɗin ka da fahimta',
        'quiz_enter_personal_information': 'Shigar da Bayanan Ka',
        'quiz_step_progress': 'Mataki {0} na {1}',
        'quiz_questions_part1': 'Tambayoyin Sashe na 1',
        'quiz_questions_part2': 'Tambayoyin Sashe na 2',
        'quiz_progress': 'Ci Gaban Tambayoyin',
        'quiz_form_errors': 'Da fatan za a gyara kurakuran da ke cikin fom.',
        'quiz_choose_an_option': 'Zaɓi zaɓi.',
        'quiz_start_quiz': 'Fara Tambayoyin',
        'quiz_see_results': 'Dubi Sakamako',
        'quiz_back_to_home': 'Koma Gida',
        'quiz_your_personality': 'Halin Ka',
        'quiz_score': 'Maki',
        'quiz_badges': 'Alamomi',
        'quiz_no_badges': 'Ba a sami alamomi ba tukuna',
        'quiz_insights': 'Fahimta',
        'quiz_tips_for_improving_financial_habits': 'Shawara don Inganta Halayen Kuɗi',
        'quiz_retake_quiz': 'Sake Yin Tambayoyin',
        'session_expired': 'Zaman ya ƙare. Da fatan za a sake farawa.',
        'An error occurred': 'Kuskure ya faru. Da fatan za a sake gwadawa.',
        # Question labels
        'quiz_track_expenses_label': 'Kana kiyaye kashe kuɗinka akai-akai?',
        'quiz_save_regularly_label': 'Kana ajiye wani yanki na kuɗin shigarka akai-akai?',
        'quiz_budget_monthly_label': 'Kana tsara kasafin kuɗinka na wata-wata?',
        'quiz_emergency_fund_label': 'Kana da asusun ceto na gaggawa?',
        'quiz_invest_regularly_label': 'Kana saka kuɗinka akai-akai?',
        'quiz_spend_impulse_label': 'Kana yawan kashe kuɗi ba tare da shiri ba?',
        'quiz_financial_goals_label': 'Kana saita manufofin kuɗi?',
        'quiz_review_spending_label': 'Kana duba halayen kashe kuɗinka akai-akai?',
        'quiz_multiple_income_label': 'Kana da hanyoyin samun kuɗi da yawa?',
        'quiz_retirement_plan_label': 'Kana da shirin ajiyar kuɗi na ritaya?',
        # Question tooltips
        'quiz_track_expenses_tooltip': 'Zaɓi sau nawa kake lura da kashe kuɗinka.',
        'quiz_save_regularly_tooltip': 'Nuna halayen ajiyarka.',
        'quiz_budget_monthly_tooltip': 'Kana tsara kashe kuɗinka na wata-wata a gaba?',
        'quiz_emergency_fund_tooltip': 'Kana da ajiyar kuɗi don kashe kuɗin da ba a ji tsammani ba?',
        'quiz_invest_regularly_tooltip': 'Kana saka hannun jari a kasuwannin kuɗi?',
        'quiz_spend_impulse_tooltip': 'Ka ji daɗin yanke shawarar siyan da ba a shirya ba.',
        'quiz_financial_goals_tooltip': 'Kana saita manufofin kuɗi na gajere ko na dogon lokaci?',
        'quiz_review_spending_tooltip': 'Kana nazarin tsarin kashe kuɗinka?',
        'quiz_multiple_income_tooltip': 'Kana samun kuɗi daga hanyoyi da yawa?',
        'quiz_retirement_plan_tooltip': 'Kana ajiye kuɗi don ritaya?',
        # Options
        'Yes': 'Eh',
        'No': 'A’a',
        # Personality types
        'quiz_planner_description': 'Kana tsara kuɗinka da kyau sosai.',
        'quiz_saver_description': 'Kana ba da fifiko ga ajiya akai-akai.',
        'quiz_balanced_description': 'Kana kiyaye daidaiton kuɗi.',
        'quiz_spender_description': 'Kana jin daɗin kashe kuɗi ba tare da iyaka ba.',
        'quiz_avoider_description': 'Kana guje wa tsara kuɗi.',
        # Insights
        'quiz_insight_planner_1': 'Kana da ƙwarewa sosai a tsara kuɗi.',
        'quiz_insight_saver_1': 'Ka fi kowa a ajiya akai-akai.',
        'quiz_insight_balanced_1': 'Kana daidaita ajiya da kashewa sosai.',
        'quiz_insight_spender_1': 'Kashewa shine ƙarfinka, amma za a iya sarrafa shi.',
        'quiz_insight_avoider_1': 'Tsara kuɗi yana da ƙalubale amma ana iya koya.',
        # Tips
        'quiz_tip_planner_1': 'Ci gaba da saita manufofin kuɗi na dogon lokaci.',
        'quiz_tip_saver_1': 'Ka ji daɗin saka hannun jari don haɓaka ajiyarka.',
        'quiz_tip_balanced_1': 'Gwada amfani da manhajar kasafin kuɗi don inganta halayenka.',
        'quiz_tip_spender_1': 'Kiyaye kashe kuɗinka don guje wa kashewa fiye da kima.',
        'quiz_tip_avoider_1': 'Fara da sauƙin kasafin kuɗi na wata-wata.',
        # Badges
        'badge_financial_guru': 'Guru na Kuɗi',
        'badge_financial_guru_desc': 'An ba da kyauta saboda kyakkyawan tsara kuɗi.',
        'badge_savings_star': 'Tauraron Ajiya',
        'badge_savings_star_desc': 'An gane shi saboda halayen ajiya akai-akai.',
        'badge_first_quiz': 'An Kammala Tambayoyin Farko',
        'badge_first_quiz_desc': 'Ka kammala tambayoyin kuɗi na farko.',
        'An error occurred. Please try again.': 'Wani kuskure ya faru. Da fatan za a sake gwadawa.',
        'quiz_personality_quiz': 'Gwaji Halayen Kuɗi',
        'quiz_assess_literacy': 'Gwajin ilimin ku na kuɗi da halayen ku.',
        'quiz_step_progress': 'Mataki {step_num} na {total_steps}',  # Updated to named placeholders
        'Enter Your Personal Information': 'Shigar da Bayanan Ku na Sirri',
        'quiz_start_personality_quiz': 'Fara Gwajin Halaye',
        'Kuskure ya faru': 'Kuskure ya faru',
        'Shigar da Bayanan Ka': 'Shigar da Bayanan Ka',
    }
}

def trans(key, default='', lang='en'):
    """
    Retrieve translation for a given key and language.
    
    Args:
        key (str): Translation key.
        default (str): Default text if translation is not found.
        lang (str): Language code ('en' or 'ha').
    
    Returns:
        str: Translated text or default if not found.
    """
    translation = TRANSLATIONS.get(lang, {}).get(key, default)
    if translation == default and lang != 'en':
        translation = TRANSLATIONS.get('en', {}).get(key, default)
    return translation
