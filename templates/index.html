<!DOCTYPE html>
<html lang="{{ session.get('lang', 'en') }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ t('Ficore Africa') }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Same styles as original index.html */
    </style>
    <script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
    </script>
</head>
<body>
    {% extends 'base.html' %}
    {% block content %}
    <section class="hero">
        <h2>{{ t('Your All-in-One Toolkit for Personal & SME Financial Health Across Africa') }}</h2>
        <p>{{ t('Use Ficore to Track your income, net worth, budgets, and bills, to grow your money with confidence.') }}</p>
        <a href="{{ url_for('health_score_step1') }}" class="cta-button">{{ t('Where to Start? Get Your Free Health Score') }}</a>
        <a href="#tools-section" class="cta-button mt-3">{{ t('Explore Ficore Tools') }}</a>
    </section>
    <section class="tools-section" id="tools-section">
        <h2>{{ t('Choose a Tool') }}</h2>
        <div class="tools-grid">
            <div class="tool-card">
                <h3>{{ t('Financial Health Score') }}</h3>
                <p>{{ t('Evaluates income, expenses, and debt for a health score') }}</p>
                <a href="{{ url_for('health_score_step1') }}" aria-label="{{ t('Start Financial Health Score Assessment') }}">{{ t('Start') }}</a>
            </div>
            <div class="tool-card">
                <h3>{{ t('Budget Planner') }}</h3>
                <p>{{ t('Allocate income across expense categories') }}</p>
                <a href="{{ url_for('budget_step1') }}" aria-label="{{ t('Start Monthly Budget Planner') }}">{{ t('Start') }}</a>
            </div>
            <div class="tool-card">
                <h3>{{ t('Personality Quiz') }}</h3>
                <p>{{ t('Answer questions to assess financial literacy') }}</p>
                <a href="{{ url_for('quiz_step1') }}" aria-label="{{ t('Start Personality Quiz') }}">{{ t('Start') }}</a>
            </div>
            <div class="tool-card">
                <h3>{{ t('Bill Planner') }}</h3>
                <p>{{ t('Manage and mark bills as paid') }}</p>
                <a href="{{ url_for('bill_form') }}" aria-label="{{ t('Start Bill Planner') }}">{{ t('Start') }}</a>
            </div>
            <div class="tool-card">
                <h3>{{ t('Net Worth Calculator') }}</h3>
                <p>{{ t('Net worth is assets minus liabilities') }}</p>
                <a href="{{ url_for('net_worth') }}" aria-label="{{ t('Start Net Worth Calculator') }}">{{ t('Start') }}</a>
            </div>
            <div class="tool-card">
                <h3>{{ t('Emergency Fund Calculator') }}</h3>
                <p>{{ t('Aims to cover 3-6 months of expenses for financial security') }}</p>
                <a href="{{ url_for('emergency_fund') }}" aria-label="{{ t('Start Emergency Fund Calculator') }}">{{ t('Start') }}</a>
            </div>
        </div>
        <div class="testimonials-section">
            <strong><i class="fas fa-quote-left"></i> {{ t('What people are saying about Us') }}</strong>
            <div class="testimonial">
                <span class="quote">“</span><span class="initials">MU</span> {{ t('Testimonial 1') | safe }}
            </div>
            <div class="testimonial">
                <span class="quote">“</span><span class="initials">AA</span> {{ t('Testimonial 2') | safe }}
            </div>
            <div class="testimonial">
                <span class="quote">“</span><span class="initials">ASU</span> {{ t('Testimonial 3') | safe }}
            </div>
        </div>
        <div class="recommended-learning">
            <strong><i class="fas fa-book"></i> {{ t('Recommended Learning') }}</strong>
            <p>{{ t('Learn more about budgeting!') }}</p>
        </div>
    </section>
    <section class="why-section">
        <h2>{{ t('Why Ficore Africa?') }}</h2>
        <ul class="why-list">
            <li><i class="fas fa-check-circle"></i>{{ t('Localized for Africa with support for Naira and regional financial contexts') }}</li>
            <li><i class="fas fa-check-circle"></i>{{ t('Empowers financial literacy with easy-to-use tools') }}</li>
            <li><i class="fas fa-check-circle"></i>{{ t('Provides actionable insights for better financial decisions') }}</li>
        </ul>
    </section>
    <section class="about-section">
        <p>{{ t('About Ficore Africa: Empowering financial growth across Africa since 2025') }}</p>
    </section>
    {% endblock %}
</body>
</html>
